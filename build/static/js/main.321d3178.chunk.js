(this.webpackJsonpescharegister=this.webpackJsonpescharegister||[]).push([[0],{233:function(e,t,a){e.exports=a(437)},238:function(e,t,a){},245:function(e,t,a){},434:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(22),o=a.n(s),i=(a(238),a(50)),l=a(51),c=a(55),m=a(54),u=a(5),h=a(56),d=a(223),b=function(e){return function(t,a,r){var n=r.getFirebase,s=r.getFirestore,o=n(),i=s();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("member").doc(t.user.uid).set({name:e.name,member:e.member,gender:e.gender,status:e.status,phone:e.momo,email:e.email,institution:e.institution,expectation:e.expectation})})).then((function(){return function(e){var t={from_name:"noReply@pensaumat",to_name:e.name,to_email:e.email,reply_to:"testing@gmail.com",subject:"subject",message_html:"message"};d.send("gmail","template_qYHocBcQ",t,"user_qBb9Yd4R48fB4y4xPD7t1").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)}))}(e)})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}},g=a(53),E=function(e){var t=e.name,a=e.style,r=e.id,s=e.className,o=e.label,i=e.placeholder,l=e.onChange,c=e.value,m=e.required,u=e.type,h=(e.errorstatus,e.errors);return n.a.createElement("div",null,n.a.createElement("label",{htmlFor:t,style:{marginTop:"10px"}},n.a.createElement("b",null,o,m?n.a.createElement("sup",{style:{color:"red"}},"*"):"")),n.a.createElement("input",{type:u||"text",name:t,id:r,placeholder:i,className:"form-control ".concat(s),style:a,onChange:l,value:c}),n.a.createElement("span",{style:{color:"red"}},h))},p=function(e){var t=e.name,a=e.style,r=e.id,s=e.className,o=e.label,i=(e.placeholder,e.onChange),l=e.value,c=e.data,m=e.required,u=(e.errorstatus,e.errors);return n.a.createElement("div",null,n.a.createElement("label",{htmlFor:t,style:{marginTop:"10px"}},n.a.createElement("b",null,o,m?n.a.createElement("sup",{style:{color:"red"}},"*"):"")),n.a.createElement("select",{name:t,id:r,className:"form-control ".concat(s),value:l,style:a,onChange:i},c?c&&c.map((function(e){return n.a.createElement("option",{key:e},e)})):n.a.createElement(n.a.Fragment,null,n.a.createElement("option",null,"Select Gender"),n.a.createElement("option",null,"Male"),n.a.createElement("option",null,"Female"))),n.a.createElement("span",{style:{color:"red"}},u))},f=(a(245),a(225)),v=a.n(f),y=a(441),S=a(442),C=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).handleClose=function(){r.setState({show:!1}),r.setState({name:""}),r.resetForm()},r.handleShow=function(){r.setState({show:!0,_loading:!1})},r.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;if(r.state.errors[t.name]){var s,o=Object.assign({},r.state.errors);delete o[t.name],r.setState((s={},Object(h.a)(s,n,a),Object(h.a)(s,"errors",o),s))}else r.setState(Object(h.a)({},n,a))},r.handleSubmit=function(e){e.preventDefault();var t,a={};""===r.state.name.trim()&&(a.name="Full name is required"),"Select Gender"===r.state.gender.trim()|""===r.state.gender.trim()&&(a.gender="Select Gender"),"Select Status"===r.state.status.trim()|""===r.state.status.trim()&&(a.status="Select Status"),"Select Network"===r.state.network.trim()|""===r.state.network.trim()&&(a.network="Select Network Type"),"Select Status"===r.state.member.trim()|""===r.state.member.trim()&&(a.member="Select COP Status"),""===r.state.institution.trim()&&(a.institution="Enter Institution"),""===r.state.email.trim()&&(a.email="Enter Email"),""===r.state.momo.trim()&&(a.momo="Enter your mobile money number"),""===r.state.expectation.trim()&&(a.expectation="Enter your expectation for the conference"),r.setState({loading:!0}),document.getElementById("spinning").hidden=!1,document.getElementById("form").hidden=!0,setTimeout((function(){r.setState({loading:!1}),r.state.loading||(r.setState({errors:a}),t=0===Object.keys(a).length,document.getElementById("spinning").hidden=!0,document.getElementById("form").hidden=!1,t&&r.props.register(r.state))}),5e3)},r.state={name:"",gender:"",status:"",email:"",phone:"",member:"",institution:"",password:"123456789",expectation:"",momo:"",network:"",errors:{},error:!0,loading:!1,isvalid:!1,registered:!1,show:!1,loading_:!1},r}return Object(l.a)(a,[{key:"resetForm",value:function(){this.setState({email:"",modal:!1})}},{key:"render",value:function(){var e=this.props.authError;return console.log(this.props.success),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"Loading-header",id:"spinning",hidden:!0},n.a.createElement(v.a,{margin:1,size:100,color:"#fff",loading:!0})," ")," ",n.a.createElement("div",{className:"my-container"},n.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-group",id:"form"},!!this.state.errors.global&&n.a.createElement("div",{className:"ui negative message"},n.a.createElement("p",null,this.state.errors.global)),n.a.createElement(E,{type:"text",name:"name",label:"Full Name",className:"form-control",value:this.state.name,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.name}),n.a.createElement(p,{label:"Gender",name:"gender",required:!0,value:this.state.gender,onChange:this.handleChange,errorstatus:this.state.error,errors:this.state.errors.gender}),n.a.createElement(p,{label:"Are you a COP member",name:"member",required:!0,value:this.state.member,onChange:this.handleChange,data:["Select Status","Member","Not Member"],errorstatus:this.state.error,errors:this.state.errors.member}),n.a.createElement(p,{label:"PENSA Membership Status",name:"status",required:!0,value:this.state.status,onChange:this.handleChange,data:["Select Status","Pre-Tertiary","Tertiary","Alumni","Non-PENSA"],errorstatus:this.state.error,errors:this.state.errors.status}),"Pre-Tertiary"===this.state.status||"Tertiary"===this.state.status||"Non-PENSA"===this.state.status?n.a.createElement(E,{type:"text",name:"institution",label:"Institution",className:"form-control",value:this.state.institution,onChange:this.handleChange,errorstatus:this.state.institution,errors:this.state.errors.institution}):"",n.a.createElement(E,{type:"textarea",name:"expectation",label:"What is your expectation after the conference",className:"form-control",value:this.state.expectation,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.expectation}),n.a.createElement(E,{type:"text",name:"email",label:"Email",className:"form-control",value:this.state.email,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.email}),n.a.createElement(E,{type:"text",name:"momo",label:"Mobile Money Number",className:"form-control",value:this.state.momo,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.momo}),n.a.createElement(p,{label:"Telecom Network",name:"network",required:!0,value:this.state.network,onChange:this.handleChange,data:["Select Telecom","MTN","Airtel/Tigo","Vodafone"],errorstatus:this.state.error,errors:this.state.errors.network}),n.a.createElement("div",{style:{marginTop:"20px",width:"50%"},className:"container"},n.a.createElement("button",{type:"submit",className:"btn btn-success form-control"},"Register")),n.a.createElement("div",{className:"text-center btn-danger"},e&&!this.state.loading?n.a.createElement("p",null,e):null),n.a.createElement(y.a,{size:"md","aria-labelledby":"contained-modal-title-vcenter",show:this.props.success,onHide:this.handleClose,centered:!0},n.a.createElement(y.a.Body,{className:"contact_success_modal_body"},n.a.createElement("h5",null,"Thank you"," ",n.a.createElement("span",null,n.a.createElement("strong",null,this.state.name),"!!")," ","\ud83d\ude07"),n.a.createElement("h6",null,"You have successfuly registered for the second edition of the Eschatological conference"),n.a.createElement("b",null," ",n.a.createElement("h6",null,"Check your email for the links to access the conference.")),n.a.createElement("br",null),n.a.createElement(S.a,{variant:"outline-light",size:"lg",onClick:this.handleClose,className:"contact-email-text-btn"},"Close"))))))}}]),a}(r.Component),O=Object(g.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError,success:e.auth.success}}),(function(e){return{register:function(t){return e(b(t))}}}))(C),N=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/",component:O}))}}]),a}(r.Component),j=a(96),w=a(37),k=a(52),x=a.n(k),_=a(38),I=a(28),F=a(231);a(429),a(432),a(438);x.a.initializeApp({apiKey:"AIzaSyC7z5fQvojG_HHBgBnGCH7C1X2VX_EmYTM",authDomain:"eschaumat.firebaseapp.com",databaseURL:"https://eschaumat.firebaseio.com",projectId:"eschaumat",storageBucket:"eschaumat.appspot.com",messagingSenderId:"950118494919",appId:"1:950118494919:web:3d17bc52a7b6a3e49d04e2",measurementId:"G-Z10MB2D7NF"}),x.a.firestore().settings({});a(434);var R=a(232),P=a.n(R),T=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={redirect:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.id=setTimeout((function(){return e.setState({redirect:!0})}),3e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.id)}},{key:"render",value:function(){return this.state.redirect?n.a.createElement(u.a,{to:"/"}):n.a.createElement("div",null," ",n.a.createElement("div",{className:"Loading-header"},n.a.createElement(P.a,{margin:1,size:30,color:"#fff",loading:!0})," ")," ")}}]),a}(r.Component),G=a(14),U={authError:null,success:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(G.a)(Object(G.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return Object(G.a)(Object(G.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(G.a)(Object(G.a)({},e),{},{authError:null,success:!0});case"SIGNUP_ERROR":return Object(G.a)(Object(G.a)({},e),{},{authError:t.err.message,success:!1});case"EC_SIGNUP_SUCCESS":return Object(G.a)(Object(G.a)({},e),{},{authError:null});case"EC_SIGNUP_ERROR":return Object(G.a)(Object(G.a)({},e),{},{authError:t.err.message});default:return e}},q=Object(I.c)({firestore:_.firestoreReducer,firebase:w.firebaseReducer,auth:B}),A={userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},M=Object(I.e)(q,Object(I.d)(Object(I.a)(F.a.withExtraArgument({getFirebase:w.getFirebase,getFirestore:_.getFirestore})),Object(_.reduxFirestore)(x.a)));function z(e){var t=e.children,a=Object(g.c)((function(e){return e.firebase.auth}));return Object(w.isLoaded)(a)?t:n.a.createElement(T,null)}var L=function(){return n.a.createElement(g.a,{store:M},n.a.createElement(w.ReactReduxFirebaseProvider,{firebase:x.a,config:A,dispatch:M.dispatch,createFirestoreInstance:_.createFirestoreInstance}," ",n.a.createElement(j.a,null,n.a.createElement(z,null,n.a.createElement(N,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(435),a(436);o.a.render(n.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[233,1,2]]]);
//# sourceMappingURL=main.321d3178.chunk.js.map