(this.webpackJsonpescharegister=this.webpackJsonpescharegister||[]).push([[0],{254:function(e,t,a){e.exports=a(478)},259:function(e,t,a){},288:function(e,t,a){},475:function(e,t,a){},477:function(e,t,a){},478:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(12),s=a.n(l),o=(a(259),a(19)),c=a(20),i=a(22),u=a(21),m=a(5),h=a(41),d=a(31),p=function(e){var t=e.name,a=e.style,n=e.id,l=e.className,s=e.label,o=e.placeholder,c=e.onChange,i=e.value,u=e.required,m=e.type,h=(e.errorstatus,e.errors);return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:t,style:{marginTop:"10px"}},r.a.createElement("b",null,s,u?r.a.createElement("sup",{style:{color:"red"}},"*"):"")),r.a.createElement("input",{type:m||"text",name:t,id:n,placeholder:o,className:"form-control ".concat(l),style:a,onChange:c,value:i}),r.a.createElement("span",{style:{color:"red"}},h))},E=function(e){var t=e.name,a=e.style,n=e.id,l=e.className,s=e.label,o=(e.placeholder,e.onChange),c=e.value,i=e.data,u=e.required,m=(e.errorstatus,e.errors);return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:t,style:{marginTop:"10px"}},r.a.createElement("b",null,s,u?r.a.createElement("sup",{style:{color:"red"}},"*"):"")),r.a.createElement("select",{name:t,id:n,className:"form-control ".concat(l),value:c,style:a,onChange:o},i?i&&i.map((function(e){return r.a.createElement("option",{key:e},e)})):r.a.createElement(r.a.Fragment,null,r.a.createElement("option",null,"Select Gender"),r.a.createElement("option",null,"Male"),r.a.createElement("option",null,"Female"))),r.a.createElement("span",{style:{color:"red"}},m))},b=a(241),g=function(e){return function(t,a,n){var r=n.getFirebase,l=n.getFirestore,s=r(),o=l();s.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.collection("member").doc().set({name:e.name,member:e.member,gender:e.gender,status:e.status,phone:e.momo,email:e.email,pensa:e.pensa,institution:e.institution,expectation:e.expectation})})).then((function(){return function(e){var t={from_name:"noReply@pensaumat",to_name:e.name,to_email:e.email,reply_to:"pensaumat@gmail.com"};b.send("gmail","template_qYHocBcQ",t,"user_qBb9Yd4R48fB4y4xPD7t1").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)}))}(e)})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}},f=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n.handleSubmit=function(e){if(e.preventDefault(),"admin@gmail.com"===n.state.email&&(n.props.signIn(n.state),n.props.auth.uid))return n.props.history.push("/participant")},n.state={email:"",password:""},n}return Object(c.a)(a,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement(m.a,{to:"/participant"}):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"container form-group",style:{marginTop:"200px"}},r.a.createElement(p,{name:"email",value:this.state.email,placeholder:"e.g example@gmail.com",className:"form-control",label:"Email Address",required:!0,onChange:this.handleChange}),r.a.createElement(p,{label:"Password",value:this.state.password,type:"password",name:"password",placeholder:"********************",className:"form-control",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"container",style:{marginTop:"20px",width:"50%"}},r.a.createElement("button",{type:"submit",className:"btn btn-success form-control"},"Sign In"))))}}]),a}(n.Component),v=Object(m.g)(Object(d.b)((function(e,t){return{auth:e.firebase.auth}}),(function(e,t){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(f)),y=a(11),S=function(e){var t=e.Children,a=e.color,n=e.dismiss;return r.a.createElement(y.e,null,r.a.createElement(y.b,{color:a,dismiss:n},t))},C=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).Register=function(){e.props.history.push("/register")},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container form-group"},r.a.createElement(S,{color:"warning",Children:r.a.createElement("strong",{className:"text-center"},"Registration Instructions")}),r.a.createElement(S,{color:"warning",Children:r.a.createElement("div",null,r.a.createElement("h6",null,"Enter your active email since conference links will be sent to you via email"),r.a.createElement("h6",null,"Check your input before you register by clicking on the"," ",r.a.createElement("b",null,"Check Input")," button"),r.a.createElement("h6",null,"Complete your registration by clicking on the ",r.a.createElement("b",null,"Register")," ","button"))}),r.a.createElement(S,{color:"warning",Children:r.a.createElement("div",null,r.a.createElement("h5",null,"PAYMENT OPTION"),r.a.createElement("h6",null,r.a.createElement("label",null," ","1. When on our checkout form, click the Mobile Money option"),r.a.createElement("label",null,"2.Input your mobile money number"),r.a.createElement("label",null," 3.Choose your provider "),r.a.createElement("label",null,"4.Click on Confirm ")),r.a.createElement("div",null,r.a.createElement("h5",null,r.a.createElement("b",null,"Important to Note")),r.a.createElement("label",null,"For ",r.a.createElement("b",null,"Vodafone")," users, after you confirm your mobile money number and provider, you will have to dial *110# on your mobile phone, select option 4: Make Payments and select option 4: Generate Voucher and enter your pin to complete the request. You will receive a text message containing your voucher code after which you will come back to the checkout form to click on 'I have received my voucher code.' Input the voucher code to authorise the payment and complete the transaction.")))}),r.a.createElement(S,{color:"success",Children:r.a.createElement("div",null,r.a.createElement("h5",null,r.a.createElement("b",{className:"text-center"},"You will be required to pay a token to support the conference during the registration")),r.a.createElement("h6",null,r.a.createElement("b",null,"1. Pre-Tetiary 2GHS")),r.a.createElement("h6",null,r.a.createElement("b",null,"2. Tetiary 5GHS")),r.a.createElement("h6",null,r.a.createElement("b",null,"3. Alumni 10GHS")))}),r.a.createElement("div",{className:"container",style:{width:"50%"}},r.a.createElement("button",{type:"button",className:"btn btn-success form-control container",onClick:this.Register},"Finish")))}}]),a}(n.Component),N=Object(m.g)(C),O=(a(288),a(246)),j=a.n(O),k=a(485),w=a(486),P=a(247),x=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClose=function(){n.setState({show:!1}),n.resetForm()},n.handleShow=function(){n.setState({show:!0,_loading:!1})},n.handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;if(n.state.errors[t.name]){var l,s=Object.assign({},n.state.errors);delete s[t.name],n.setState((l={},Object(h.a)(l,r,a),Object(h.a)(l,"errors",s),l))}else n.setState(Object(h.a)({},r,a));n.setState({isvalid:!1,invalid:"Check the validity of your input"})},n.handleSubmit=function(e){e.preventDefault();var t,a={};""===n.state.name.trim()&&(a.name="Full name is required"),"Select Gender"===n.state.gender.trim()|""===n.state.gender.trim()&&(a.gender="Select Gender"),"Select Status"===n.state.status.trim()|""===n.state.status.trim()&&(a.status="Select Status"),"Select Status"===n.state.member.trim()|""===n.state.member.trim()&&(a.member="Select COP Status"),"Select Status"===n.state.pensa.trim()|""===n.state.pensa.trim()&&(a.pensa="Select PENSA Membership Status"),""===n.state.institution.trim()&&"Alumni"!==n.state.status&&(a.institution="Enter Institution"),""===n.state.email.trim()&&(a.email="Enter Email"),""===n.state.momo.trim()&&(a.momo="Enter your phone number"),""===n.state.expectation.trim()&&(a.expectation="Enter your expectation for the conference"),n.setState({loading:!0}),document.getElementById("spinning").hidden=!1,document.getElementById("form").hidden=!0,setTimeout((function(){n.setState({loading:!1}),n.state.loading||(n.setState({errors:a}),t=0===Object.keys(a).length,n.setState({isvalid:t}),n.setState({validated:!0}),document.getElementById("spinning").hidden=!0,document.getElementById("form").hidden=!1)}),5e3)},n.Submit=function(e){n.state.isvalid&&(n.props.register(n.state),n.handleShow())},n.onSuccess=function(e){n.Submit(),console.log(e)},n.onClose=function(){},n.state={name:"",gender:"",status:"",email:"",phone:"",member:"",institution:"",password:"123456789",expectation:"",momo:"",pensa:"",network:"",errors:{},error:!0,loading:!1,isvalid:!1,invalid:"Your input data is not valid",registered:!1,show:!1,_loading:!1,validated:!1},n}return Object(c.a)(a,[{key:"resetForm",value:function(){this.setState({modal:!1})}},{key:"render",value:function(){var e=this,t=this.props.authError,a={reference:(new Date).getTime(),email:this.state.email,firstname:this.state.name.split(" ").shift(),amount:"Pre-Tertiary"===this.state.status?200:"Tertiary"===this.state.status?500:1e3,publicKey:"pk_live_195c388bc88cfe71e44120fe6b1c5c74e6ba8cce",currency:"GHS"},n=function(){var t=Object(P.a)(a);return r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-success form-control ",onClick:function(){t(e.onSuccess,e.onClose)}},"Register"))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"Loading-header",id:"spinning",hidden:!0},r.a.createElement(j.a,{margin:1,size:100,color:"#fff",loading:!0})," ")," ",r.a.createElement("div",{className:"my-container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-group",id:"form"},r.a.createElement("div",{className:"container"},this.state.validated?this.state.isvalid?r.a.createElement("h4",{className:"btn-success mx-auto text-center"},"Your input data is Valid"):r.a.createElement("h4",{className:"btn-danger  mx-auto text-center"},"Your input data is invalid"):""),!!this.state.errors.global&&r.a.createElement("div",{className:"ui negative message"},r.a.createElement("p",null,this.state.errors.global)),r.a.createElement(p,{type:"text",name:"name",label:"Full Name",className:"form-control",value:this.state.name,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.name}),r.a.createElement(E,{label:"Gender",name:"gender",required:!0,value:this.state.gender,onChange:this.handleChange,errorstatus:this.state.error,errors:this.state.errors.gender}),r.a.createElement(E,{label:"Are you a COP member",name:"member",required:!0,value:this.state.member,onChange:this.handleChange,data:["Select Status","Member","Not Member"],errorstatus:this.state.error,errors:this.state.errors.member}),r.a.createElement(E,{label:"PENSA Membership Status",name:"pensa",required:!0,value:this.state.pensa,onChange:this.handleChange,data:["Select Status","Member","Not Member"],errorstatus:this.state.error,errors:this.state.errors.pensa}),r.a.createElement(E,{label:"Education Status",name:"status",required:!0,value:this.state.status,onChange:this.handleChange,data:["Select Status","Pre-Tertiary","Tertiary","Alumni"],errorstatus:this.state.error,errors:this.state.errors.status}),"Pre-Tertiary"===this.state.status||"Tertiary"===this.state.status?r.a.createElement(p,{type:"text",name:"institution",label:"Institution",className:"form-control",value:this.state.institution,onChange:this.handleChange,errorstatus:this.state.institution,errors:this.state.errors.institution}):"",r.a.createElement(p,{type:"textarea",name:"expectation",label:"What is your expectation after the conference",className:"form-control",value:this.state.expectation,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.expectation}),r.a.createElement(p,{type:"text",name:"email",label:"Email",className:"form-control",value:this.state.email,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.email}),r.a.createElement(p,{type:"text",name:"momo",label:"Phone Number",className:"form-control",value:this.state.momo,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.momo}),r.a.createElement("div",{style:{marginTop:"20px"},className:"container row"},r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6",style:{marginTop:"20px"}},r.a.createElement("button",{type:"submit",className:"btn btn-success form-control"},"Check Input")),r.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6",style:{marginTop:"20px"}},this.state.validated&&this.state.isvalid?r.a.createElement(n,null):"")),r.a.createElement(k.a,{size:"md","aria-labelledby":"contained-modal-title-vcenter",show:this.state.show,onHide:this.handleClose,centered:!0},r.a.createElement(k.a.Body,{className:"contact_success_modal_body"},this.props.loaded?r.a.createElement("div",{className:"text-center btn-danger"},r.a.createElement("p",null,t)):"",this.props.success?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("h5",null,"Thank you"," ",r.a.createElement("span",null,r.a.createElement("strong",null,this.state.name),"!!")," ","\ud83d\ude07"),r.a.createElement("h6",null,"You have successfuly registered for the second edition of Eschatological conference"),r.a.createElement("b",null," ",r.a.createElement("h6",null,"Check your email for the links to access the conference.")),r.a.createElement("br",null)):"",r.a.createElement(w.a,{variant:"outline-light",size:"lg",onClick:this.handleClose,className:"contact-email-text-btn btn-primary"},"Close"))))))}}]),a}(n.Component),I=Object(d.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError,success:e.auth.success,loaded:e.auth.loaded}}),(function(e){return{register:function(t){return e(g(t))},Testing:function(){return e((function(e,t,a){var n=a.getFirebase,r=a.getFirestore;n(),r().collection("testing").doc().set({name:"newUser.name",member:"newUser.member",gender:"newUser.gender",status:"newUser.status",phone:"newUser.momo",email:"newUser.email",pensa:"newUser.pensa",institution:"newUser.institution",expectation:"newUser.expectation"}).then((function(){e({type:"SIGNUP_SUCCESS"})})).catch((function(t){e({type:"SIGNUP_ERROR",err:t})}))}))}}}))(x),F=a(37),R=a(32),_=function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,l=(e.lnk,[]),s=1;s<=Math.ceil(a/t);s++)l.push(s);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.m,{className:"mx-auto"},r.a.createElement(y.d,null,r.a.createElement(y.j,{circle:!0},r.a.createElement(y.h,null,r.a.createElement(y.i,{className:"page-link"},r.a.createElement("span",null,"First"))),r.a.createElement(y.h,{onClick:function(){return n(l[0])}},r.a.createElement(y.i,{className:"page-link","aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))),l.map((function(e){return r.a.createElement(y.h,{active:!0,key:e},r.a.createElement(y.i,{className:"page-link",onClick:function(){return n(e)}},e," ",r.a.createElement("span",{className:"sr-only"},"(current)")))})),r.a.createElement(y.h,{onClick:function(){return n(l[l.length-1])}},r.a.createElement(y.i,{className:"page-link"},"\xbb")),r.a.createElement(y.h,null,r.a.createElement(y.i,{className:"page-link"},"Last"))))))},U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).Logout=function(){n.props&&n.props.signOut()},n.state={currentPage:1,postsPerPage:13},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.member;if(!t.auth.uid)return r.a.createElement(m.a,{to:"/login"});var n=this.state.currentPage*this.state.postsPerPage,l=n-this.state.postsPerPage,s=a&&a.slice(l,n),o=1;console.log(a);var c=r.a.createElement("div",{className:"container-fluid mx-auto"},r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Total Participants"," ",r.a.createElement("span",{className:"badge badge-success"},a&&a.length)));return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("button",{className:"btn btn-danger",style:{float:"right"},onClick:this.Logout},"Logout"),c,r.a.createElement("table",{className:"table table-striped table-bordered table-sm"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Full Name"),r.a.createElement("th",null,"Gender"),r.a.createElement("th",null,"Email Address"),r.a.createElement("th",null,"Phone Number"),r.a.createElement("th",null,"COP Status"),r.a.createElement("th",null,"PENSA Status"),r.a.createElement("th",null,"Eductation Level"),r.a.createElement("th",null,"Institution"),r.a.createElement("th",null,"Expectation"))),s&&s.map((function(e){return r.a.createElement("tbody",{key:e.id},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("b",null,o++)),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.gender),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.phone),r.a.createElement("td",null,e.member),r.a.createElement("td",null,e.pensa),r.a.createElement("td",null,e.status),r.a.createElement("td",null,e.institution),r.a.createElement("td",null,e.expectation)))}))),r.a.createElement(_,{postsPerPage:this.state.postsPerPage,totalPosts:a?a.length:0,paginate:function(t){return e.setState({currentPage:t})}}))}}]),a}(n.Component),G=Object(R.d)(Object(d.b)((function(e){return{auth:e.firebase.auth,member:e.firestore.ordered.member}}),{signOut:function(){return function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}}}),Object(F.firestoreConnect)([{collection:"member"}]))(U),T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:N}),r.a.createElement(m.b,{path:"/register",component:I}),r.a.createElement(m.b,{path:"/participant",component:G}),r.a.createElement(m.b,{path:"/login",component:v}))}}]),a}(n.Component),A=a(39),q=a(62),M=a.n(q),B=a(50),L=a(252);a(470),a(473),a(479);M.a.initializeApp({apiKey:"AIzaSyC7z5fQvojG_HHBgBnGCH7C1X2VX_EmYTM",authDomain:"eschaumat.firebaseapp.com",databaseURL:"https://eschaumat.firebaseio.com",projectId:"eschaumat",storageBucket:"eschaumat.appspot.com",messagingSenderId:"950118494919",appId:"1:950118494919:web:3d17bc52a7b6a3e49d04e2",measurementId:"G-Z10MB2D7NF"}),M.a.firestore().settings({});a(475);var Y=a(253),H=a.n(Y),D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={redirect:!1},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.id=setTimeout((function(){return e.setState({redirect:!0})}),3e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.id)}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",null," ",r.a.createElement("div",{className:"Loading-header"},r.a.createElement(H.a,{margin:1,size:30,color:"#fff",loading:!0})," ")," ")}}]),a}(n.Component),z=a(18),W={authError:null,success:!1,loaded:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(z.a)(Object(z.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return Object(z.a)(Object(z.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(z.a)(Object(z.a)({},e),{},{authError:null,success:!0,loaded:!1});case"SIGNUP_ERROR":return Object(z.a)(Object(z.a)({},e),{},{authError:t.err.message,success:!1,loaded:!0});case"EC_SIGNUP_SUCCESS":return Object(z.a)(Object(z.a)({},e),{},{authError:null});case"EC_SIGNUP_ERROR":return Object(z.a)(Object(z.a)({},e),{},{authError:t.err.message});default:return e}},J=Object(R.c)({firestore:B.firestoreReducer,firebase:F.firebaseReducer,auth:V}),K={userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},Q=Object(R.e)(J,Object(R.d)(Object(R.a)(L.a.withExtraArgument({getFirebase:F.getFirebase,getFirestore:B.getFirestore})),Object(B.reduxFirestore)(M.a)));function X(e){var t=e.children,a=Object(d.c)((function(e){return e.firebase.auth}));return Object(F.isLoaded)(a)?t:r.a.createElement(D,null)}var Z=function(){return r.a.createElement(d.a,{store:Q},r.a.createElement(F.ReactReduxFirebaseProvider,{firebase:M.a,config:K,dispatch:Q.dispatch,createFirestoreInstance:B.createFirestoreInstance}," ",r.a.createElement(A.a,null,r.a.createElement(X,null,r.a.createElement(T,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(476),a(477);s.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[254,1,2]]]);
//# sourceMappingURL=main.8d882290.chunk.js.map