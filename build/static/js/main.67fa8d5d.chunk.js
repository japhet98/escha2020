(this.webpackJsonpescharegister=this.webpackJsonpescharegister||[]).push([[0],{214:function(e,t,a){e.exports=a.p+"static/media/IMG-20201007-WA0008.6c2f8c47.jpg"},219:function(e,t,a){e.exports=a(422)},224:function(e,t,a){},231:function(e,t,a){},419:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(85),o=a.n(s),i=(a(224),a(43)),l=a(44),c=a(48),m=a(47),u=a(3),h=a(49),d=a(212),g=function(e){return function(t,a,r){var n=r.getFirebase,s=r.getFirestore,o=n(),i=s();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("member").doc(t.user.uid).set({name:e.name,member:e.member,gender:e.gender,status:e.status,phone:e.phone,email:e.email,institution:e.institution,expectation:e.expectation})})).then((function(){return function(e){var t={from_name:"noReply@pensaumat",to_name:e.email,subject:"subject",message_html:"message"};d.send("gmail","template_qYHocBcQ",t,"user_qBb9Yd4R48fB4y4xPD7t1").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)}))}(e)})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}},b=a(46),p=function(e){var t=e.name,a=e.style,r=e.id,s=e.className,o=e.label,i=e.placeholder,l=e.onChange,c=e.value,m=e.required,u=e.type,h=(e.errorstatus,e.errors);return n.a.createElement("div",null,n.a.createElement("label",{htmlFor:t,style:{marginTop:"10px"}},n.a.createElement("b",null,o,m?n.a.createElement("sup",{style:{color:"red"}},"*"):"")),n.a.createElement("input",{type:u||"text",name:t,id:r,placeholder:i,className:"form-control ".concat(s),style:a,onChange:l,value:c}),n.a.createElement("span",{style:{color:"red"}},h))},f=function(e){var t=e.name,a=e.style,r=e.id,s=e.className,o=e.label,i=(e.placeholder,e.onChange),l=e.value,c=e.data,m=e.required,u=(e.errorstatus,e.errors);return n.a.createElement("div",null,n.a.createElement("label",{htmlFor:t,style:{marginTop:"10px"}},n.a.createElement("b",null,o,m?n.a.createElement("sup",{style:{color:"red"}},"*"):"")),n.a.createElement("select",{name:t,id:r,className:"form-control ".concat(s),value:l,style:a,onChange:i},c?c&&c.map((function(e){return n.a.createElement("option",{key:e},e)})):n.a.createElement(n.a.Fragment,null,n.a.createElement("option",null,"Select Gender"),n.a.createElement("option",null,"Male"),n.a.createElement("option",null,"Female"))),n.a.createElement("span",{style:{color:"red"}},u))},E=a(214),v=a.n(E),y=(a(231),a(215)),O=a.n(y),S=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;if(r.state.errors[t.name]){var s,o=Object.assign({},r.state.errors);delete o[t.name],r.setState((s={},Object(h.a)(s,n,a),Object(h.a)(s,"errors",o),s))}else r.setState(Object(h.a)({},n,a))},r.handleSubmit=function(e){e.preventDefault();var t,a={};""===r.state.name.trim()&&(a.name="Full name is required"),"Select Gender"===r.state.gender.trim()|""===r.state.gender.trim()&&(a.gender="Select Gender"),r.setState({loading:!0}),document.getElementById("spinning").hidden=!1,document.getElementById("form").hidden=!0,setTimeout((function(){if(r.setState({loading:!1}),!r.state.loading&&(r.setState({errors:a}),t=0===Object.keys(a).length,document.getElementById("spinning").hidden=!0,document.getElementById("form").hidden=!1,t)){r.state.name.trim();r.props.register(r.state)}}),5e3)},r.state={name:"",lastname:"",othername:"",gender:"",status:"",email:"",phone:"",member:"",institution:"",password:"",expectation:"",momo:"",network:"",errors:{},error:!0,loading:!1,isvalid:!1},r}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.authError;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"Loading-header",id:"spinning",hidden:!0},n.a.createElement(O.a,{margin:1,size:100,color:"#fff",loading:!0})," ")," ",n.a.createElement("div",{className:"my-container"},n.a.createElement("form",{onSubmit:this.handleSubmit,className:"form-group",id:"form"},!!this.state.errors.global&&n.a.createElement("div",{className:"ui negative message"},n.a.createElement("p",null,this.state.errors.global)),n.a.createElement(p,{type:"text",name:"name",label:"Full Name",className:"form-control",value:this.state.name,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.name}),n.a.createElement(f,{label:"Gender",name:"gender",required:!0,value:this.state.gender,onChange:this.handleChange,errorstatus:this.state.error,errors:this.state.errors.gender}),n.a.createElement(f,{label:"Are you a COP member",name:"member",required:!0,value:this.state.member,onChange:this.handleChange,data:["Select Status","Member","Not Member"],errorstatus:this.state.error,errors:this.state.errors.member}),n.a.createElement(f,{label:"PENSA Membership Status",name:"status",required:!0,value:this.state.status,onChange:this.handleChange,data:["Select Status","Pre-Tertiary","Tertiary","Alumni","non-PENSA"],errorstatus:this.state.error,errors:this.state.errors.status}),n.a.createElement(p,{type:"textarea",name:"expectation",label:"What is your expectation after the conference",className:"form-control",value:this.state.expectation,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.expectation}),n.a.createElement(p,{type:"text",name:"email",label:"Email",className:"form-control",value:this.state.email,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.email}),n.a.createElement(p,{type:"text",name:"momo",label:"momo",className:"form-control",value:this.state.momo,onChange:this.handleChange,required:!0,errorstatus:this.state.error,errors:this.state.errors.momo}),n.a.createElement(f,{label:"Telecom Network",name:"network",required:!0,value:this.state.network,onChange:this.handleChange,data:["Select Telecom","MTN","Airtel/Tigo","Vodafone"],errorstatus:this.state.error,errors:this.state.errors.network}),n.a.createElement("div",{style:{marginTop:"20px",width:"50%"},className:"container"},n.a.createElement("button",{type:"submit",className:"btn btn-success form-control"},"Register")),n.a.createElement("div",{className:"text-center btn-danger"},e&&!this.state.loading?n.a.createElement("p",null,e):null))),n.a.createElement("img",{src:v.a,alt:"bg"}))}}]),a}(r.Component),j=Object(b.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{register:function(t){return e(g(t))}}}))(S),C=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/",component:j}))}}]),a}(r.Component),N=a(88),x=a(31),I=a(45),w=a.n(I),R=a(32),k=a(22),F=a(217);a(414),a(417),a(423);w.a.initializeApp({apiKey:"AIzaSyC7z5fQvojG_HHBgBnGCH7C1X2VX_EmYTM",authDomain:"eschaumat.firebaseapp.com",databaseURL:"https://eschaumat.firebaseio.com",projectId:"eschaumat",storageBucket:"eschaumat.appspot.com",messagingSenderId:"950118494919",appId:"1:950118494919:web:3d17bc52a7b6a3e49d04e2",measurementId:"G-Z10MB2D7NF"}),w.a.firestore().settings({});a(419);var _=a(218),G=a.n(_),P=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={redirect:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.id=setTimeout((function(){return e.setState({redirect:!0})}),3e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.id)}},{key:"render",value:function(){return this.state.redirect?n.a.createElement(u.a,{to:"/"}):n.a.createElement("div",null," ",n.a.createElement("div",{className:"Loading-header"},n.a.createElement(G.a,{margin:1,size:30,color:"#fff",loading:!0})," ")," ")}}]),a}(r.Component),U=a(12),T={authError:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(U.a)(Object(U.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return Object(U.a)(Object(U.a)({},e),{},{authError:t.err.message});case"EC_SIGNUP_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{authError:null});case"EC_SIGNUP_ERROR":return Object(U.a)(Object(U.a)({},e),{},{authError:t.err.message});default:return e}},B=Object(k.c)({firestore:R.firestoreReducer,firebase:x.firebaseReducer,auth:q}),A={userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},M=Object(k.e)(B,Object(k.d)(Object(k.a)(F.a.withExtraArgument({getFirebase:x.getFirebase,getFirestore:R.getFirestore})),Object(R.reduxFirestore)(w.a)));function L(e){var t=e.children,a=Object(b.c)((function(e){return e.firebase.auth}));return Object(x.isLoaded)(a)?t:n.a.createElement(P,null)}var W=function(){return n.a.createElement(b.a,{store:M},n.a.createElement(x.ReactReduxFirebaseProvider,{firebase:w.a,config:A,dispatch:M.dispatch,createFirestoreInstance:R.createFirestoreInstance}," ",n.a.createElement(N.a,null,n.a.createElement(L,null,n.a.createElement(C,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(420),a(421);o.a.render(n.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[219,1,2]]]);
//# sourceMappingURL=main.67fa8d5d.chunk.js.map